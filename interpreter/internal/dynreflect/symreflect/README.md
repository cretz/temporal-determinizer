Leaving this unused code around because it's still useful, just a bit broken